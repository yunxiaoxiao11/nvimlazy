/// <reference types="node" />
import Transport, { Response } from './base';
import { NeovimClient } from '../api';
import { ILogger } from '../utils/logger';
export declare class VimTransport extends Transport {
    private pending;
    private nextRequestId;
    private connection;
    private attached;
    private client;
    private notifyMethod;
    /**
     * Cached error message
     */
    private errText;
    /**
     * Cached out message
     */
    private outText;
    constructor(logger: ILogger);
    attach(writer: NodeJS.WritableStream, reader: NodeJS.ReadableStream, client: NeovimClient): void;
    send(arr: any[]): void;
    detach(): void;
    /**
     * Send request to vim
     */
    request(method: string, args: any[], cb: Function): any;
    notify(method: string, args: any[]): void;
    protected createResponse(requestId: number): Response;
}
